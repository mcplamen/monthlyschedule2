<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">

{namespace ms=Mcplamen\Monthlyschedule\ViewHelpers}

<f:layout name="Default" />

<f:section name="content">

    <div class="myday-list-wrapper">
        <h1 class="main-title">Alle Tage / All Days</h1>
        
        <div class="actions-bar">
            <f:link.action 
                action="list" 
                controller="Mymonth"
                class="btn btn-secondary">
                ‚Üê Zur√ºck zu Monaten
            </f:link.action>
            
            <f:link.action 
                action="index" 
                controller="Mymonth"
                class="btn btn-primary">
                üìÖ Kalenderansicht
            </f:link.action>
        </div>
        
        <f:if condition="{mydays}">
            <f:then>
                <div class="days-grid">
                    <f:for each="{mydays}" as="day">
                        <div class="day-card">
                            <div class="day-card-header">
                                <h3 class="day-date">
                                    {day.dayname}
                                    <f:if condition="{day.mymonth}">
                                        . <ms:germanDay 
                                            day="{day.dayname}" 
                                            month="{day.mymonth.month}" 
                                            year="{day.mymonth.year}" />
                                    </f:if>
                                </h3>
                                
                                <f:if condition="{day.mymonth}">
                                    <span class="month-badge">
                                        {day.mymonth.month}/{day.mymonth.year}
                                    </span>
                                </f:if>
                            </div>
                            
                            <div class="day-card-body">
                                <f:if condition="{day.workshift}">
                                    <div class="day-info-item">
                                        <span class="info-label">Schicht:</span>
                                        <span class="info-value workshift">{day.workshift}</span>
                                    </div>
                                </f:if>
                                
                                <f:if condition="{day.starttime}">
                                    <div class="day-info-item">
                                        <span class="info-label">Startzeit:</span>
                                        <span class="info-value">{day.starttime}</span>
                                    </div>
                                </f:if>
                                
                                <f:if condition="{day.endtime}">
                                    <div class="day-info-item">
                                        <span class="info-label">Endzeit:</span>
                                        <span class="info-value">{day.endtime}</span>
                                    </div>
                                </f:if>
                                
                                <f:if condition="{day.place}">
                                    <div class="day-info-item">
                                        <span class="info-label">Ort:</span>
                                        <span class="info-value">{day.place}</span>
                                    </div>
                                </f:if>
                            </div>
                            
                            <div class="day-card-footer">
                                <f:link.action 
                                    action="show" 
                                    arguments="{myday: day}"
                                    class="btn btn-sm btn-info">
                                    Details
                                </f:link.action>
                                
                                <f:link.action 
                                    action="edit" 
                                    arguments="{myday: day}"
                                    class="btn btn-sm btn-warning">
                                    Bearbeiten
                                </f:link.action>
                                
                                <f:link.action 
                                    action="delete" 
                                    arguments="{myday: day}"
                                    class="btn btn-sm btn-danger"
                                    onclick="return confirm('M√∂chten Sie diesen Tag wirklich l√∂schen?');">
                                    L√∂schen
                                </f:link.action>
                            </div>
                        </div>
                    </f:for>
                </div>
            </f:then>
            <f:else>
                <div class="no-data-message">
                    <p>Keine Tage vorhanden.</p>
                    <f:link.action 
                        action="list" 
                        controller="Mymonth"
                        class="btn btn-primary">
                        Zu Monaten gehen
                    </f:link.action>
                </div>
            </f:else>
        </f:if>
    </div>
    

    <h1>Listing for Myday</h1>

    <f:flashMessages />

    <table class="tx_monthlyschedule">
        <tr>
            <th><f:translate key="tx_monthlyschedule_domain_model_myday.dayname" /></th>
            <th><f:translate key="tx_monthlyschedule_domain_model_myday.timeslot" /></th>
            <th><f:translate key="tx_monthlyschedule_domain_model_myday.confirm" /></th>
            <th><f:translate key="tx_monthlyschedule_domain_model_myday.person" /></th>
            <th><f:translate key="tx_monthlyschedule_domain_model_myday.email" /></th>
            <th><f:translate key="tx_monthlyschedule_domain_model_myday.topic" /></th>
            <th></th>
            <th></th>
        </tr>
        <f:for each="{mydays}" as="myday">
            <tr>
                <td><f:link.action action="show" arguments="{myday : myday}">{myday.dayname}</f:link.action></td>
                <td><f:link.action action="show" arguments="{myday : myday}">{myday.timeslot}</f:link.action></td>
                <td><f:link.action action="show" arguments="{myday : myday}">{myday.confirm}</f:link.action></td>
                <td><f:link.action action="show" arguments="{myday : myday}">{myday.person}</f:link.action></td>
                <td><f:link.action action="show" arguments="{myday : myday}">{myday.email}</f:link.action></td>
                <td><f:link.action action="show" arguments="{myday : myday}">{myday.topic}</f:link.action></td>
                <td><f:link.action action="edit" arguments="{myday : myday}">Edit</f:link.action></td>
                <td><f:link.action action="delete" arguments="{myday : myday}">Delete</f:link.action></td>
            </tr>
        </f:for>
    </table>

    <f:link.action action="new">New Myday</f:link.action>
</f:section>
</html>
