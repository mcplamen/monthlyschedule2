<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">

{namespace ms=Mcplamen\Monthlyschedule\ViewHelpers}

<f:layout name="Default" />

This template is responsible for creating a table of domain objects.

If you modify this template, do not forget to change the overwrite settings
in /Configuration/ExtensionBuilder/settings.yaml:
  Resources:
    Private:
      Templates:
        Myday:
          Index.html: keep

Otherwise your changes will be overwritten the next time you save the extension in the extension builder

<f:section name="content">

    <div class="myday-list-wrapper">
        <h1 class="main-title">Alle Tage / All Days</h1>
        
        <div class="actions-bar">
            <f:link.action 
                action="list" 
                controller="Mymonth"
                class="btn btn-secondary">
                ‚Üê Zur√ºck zu Monaten
            </f:link.action>
            
            <f:link.action 
                action="index" 
                controller="Mymonth"
                class="btn btn-primary">
                üìÖ Kalenderansicht
            </f:link.action>
        </div>
        
        <f:if condition="{mydays}">
            <f:then>
                <div class="days-grid">
                    <f:for each="{mydays}" as="day">
                        <div class="day-card">
                            <div class="day-card-header">
                                <h3 class="day-date">
                                    {day.dayname}
                                    <f:if condition="{day.mymonth}">
                                        . <ms:germanDay 
                                            day="{day.dayname}" 
                                            month="{day.mymonth.month}" 
                                            year="{day.mymonth.year}" />
                                    </f:if>
                                </h3>
                                
                                <f:if condition="{day.mymonth}">
                                    <span class="month-badge">
                                        {day.mymonth.month}/{day.mymonth.year}
                                    </span>
                                </f:if>
                            </div>
                            
                            <div class="day-card-body">
                                <f:if condition="{day.workshift}">
                                    <div class="day-info-item">
                                        <span class="info-label">Schicht:</span>
                                        <span class="info-value workshift">{day.workshift}</span>
                                    </div>
                                </f:if>
                                
                                <f:if condition="{day.starttime}">
                                    <div class="day-info-item">
                                        <span class="info-label">Startzeit:</span>
                                        <span class="info-value">{day.starttime}</span>
                                    </div>
                                </f:if>
                                
                                <f:if condition="{day.endtime}">
                                    <div class="day-info-item">
                                        <span class="info-label">Endzeit:</span>
                                        <span class="info-value">{day.endtime}</span>
                                    </div>
                                </f:if>
                                
                                <f:if condition="{day.place}">
                                    <div class="day-info-item">
                                        <span class="info-label">Ort:</span>
                                        <span class="info-value">{day.place}</span>
                                    </div>
                                </f:if>
                            </div>
                            
                            <div class="day-card-footer">
                                <f:link.action 
                                    action="show" 
                                    arguments="{myday: day}"
                                    class="btn btn-sm btn-info">
                                    Details
                                </f:link.action>
                                
                                <f:link.action 
                                    action="edit" 
                                    arguments="{myday: day}"
                                    class="btn btn-sm btn-warning">
                                    Bearbeiten
                                </f:link.action>
                                
                                <f:link.action 
                                    action="delete" 
                                    arguments="{myday: day}"
                                    class="btn btn-sm btn-danger"
                                    onclick="return confirm('M√∂chten Sie diesen Tag wirklich l√∂schen?');">
                                    L√∂schen
                                </f:link.action>
                            </div>
                        </div>
                    </f:for>
                </div>
            </f:then>
            <f:else>
                <div class="no-data-message">
                    <p>Keine Tage vorhanden.</p>
                    <f:link.action 
                        action="list" 
                        controller="Mymonth"
                        class="btn btn-primary">
                        Zu Monaten gehen
                    </f:link.action>
                </div>
            </f:else>
        </f:if>
    </div>
    
    <style>
        .myday-list-wrapper {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .actions-bar {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding: 15px;
            background-color: #ecf0f1;
            border-radius: 8px;
        }
        
        .days-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .day-card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .day-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.15);
        }
        
        .day-card-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .day-date {
            margin: 0;
            font-size: 1.3em;
            font-weight: bold;
        }
        
        .month-badge {
            background-color: rgba(255,255,255,0.3);
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9em;
            font-weight: bold;
        }
        
        .day-card-body {
            padding: 20px;
        }
        
        .day-info-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #ecf0f1;
        }
        
        .day-info-item:last-child {
            border-bottom: none;
        }
        
        .info-label {
            font-weight: bold;
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .info-value {
            color: #2c3e50;
            font-size: 1em;
        }
        
        .info-value.workshift {
            background-color: #9b59b6;
            color: white;
            padding: 3px 10px;
            border-radius: 5px;
            font-weight: bold;
        }
        
        .day-card-footer {
            padding: 15px 20px;
            background-color: #f8f9fa;
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }
        
        .btn-sm {
            padding: 6px 12px;
            font-size: 12px;
        }
        
        .btn-warning {
            background-color: #f39c12;
            color: white;
        }
        
        .btn-warning:hover {
            background-color: #e67e22;
        }
        
        .btn-danger {
            background-color: #e74c3c;
            color: white;
        }
        
        .btn-danger:hover {
            background-color: #c0392b;
        }
        
        @media (max-width: 768px) {
            .days-grid {
                grid-template-columns: 1fr;
            }
            
            .actions-bar {
                flex-direction: column;
                gap: 10px;
            }
            
            .day-card-footer {
                flex-wrap: wrap;
            }
        }
    </style>


    <h1>Listing for Myday</h1>

    <f:flashMessages />

    <table class="tx_monthlyschedule">
        <tr>
            <th><f:translate key="tx_monthlyschedule_domain_model_myday.dayname" /></th>
            <th><f:translate key="tx_monthlyschedule_domain_model_myday.timeslot" /></th>
            <th><f:translate key="tx_monthlyschedule_domain_model_myday.confirm" /></th>
            <th><f:translate key="tx_monthlyschedule_domain_model_myday.person" /></th>
            <th><f:translate key="tx_monthlyschedule_domain_model_myday.email" /></th>
            <th><f:translate key="tx_monthlyschedule_domain_model_myday.topic" /></th>
            <th></th>
            <th></th>
        </tr>
        <f:for each="{mydays}" as="myday">
            <tr>
                <td><f:link.action action="show" arguments="{myday : myday}">{myday.dayname}</f:link.action></td>
                <td><f:link.action action="show" arguments="{myday : myday}">{myday.timeslot}</f:link.action></td>
                <td><f:link.action action="show" arguments="{myday : myday}">{myday.confirm}</f:link.action></td>
                <td><f:link.action action="show" arguments="{myday : myday}">{myday.person}</f:link.action></td>
                <td><f:link.action action="show" arguments="{myday : myday}">{myday.email}</f:link.action></td>
                <td><f:link.action action="show" arguments="{myday : myday}">{myday.topic}</f:link.action></td>
                <td><f:link.action action="edit" arguments="{myday : myday}">Edit</f:link.action></td>
                <td><f:link.action action="delete" arguments="{myday : myday}">Delete</f:link.action></td>
            </tr>
        </f:for>
    </table>

    <f:link.action action="new">New Myday</f:link.action>
</f:section>
</html>
